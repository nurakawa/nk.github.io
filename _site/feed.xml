<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.2">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2023-03-09T21:37:16+01:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">Nura Kawa</title><subtitle>Personal Website</subtitle><author><name>Nura Kawa</name></author><entry><title type="html">Interactive Visualization - European Mobility in 2020</title><link href="http://localhost:4000/2021/06/20/mobility-2020.html" rel="alternate" type="text/html" title="Interactive Visualization - European Mobility in 2020" /><published>2021-06-20T00:00:00+02:00</published><updated>2021-06-20T00:00:00+02:00</updated><id>http://localhost:4000/2021/06/20/mobility-2020</id><content type="html" xml:base="http://localhost:4000/2021/06/20/mobility-2020.html">&lt;meta charset=&quot;utf-8&quot; /&gt;

&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
  &lt;style&gt;
  .wrapper {
     display: grid;
     grid-template-columns: repeat(10, 1fr);
     gap: 20px;
     grid-auto-rows: 100px;
     grid-template-areas:
    &quot;a a a a a a a a b b&quot;;
     align-items: start;
  }
  .item1 {
    grid-area: a;
  }
  .item2 {
  grid-area: b;
  }
  
   p {
     padding: 0;
     margin: 0;    
  }
   &lt;/style&gt;
  &lt;/head&gt;
  
  &lt;body&gt;
  It goes without saying that 2020 has been characteristically marked by the Covid-19 pandemic. One of the primary tools that policy
  makers across the world have chosen to curb the spread of Covid-19 is to impose restriction on mobility. 
   
  &lt;br /&gt; &lt;br /&gt;
  For those of us in Europe, we can take a calendar view of how our time spent at home, at work, and outdoors has changed as a result of national policies. &lt;strong&gt;The calendar heatmap shows, for a selected nation and mobility category, the daily percent change in mobility compared to a baseline value&lt;/strong&gt; (more information in the &quot;Data&quot; section). &lt;strong&gt;The linear calendar shows the start and end dates of the selected nation's Covid-19 response measures.&lt;/strong&gt;
  &lt;br /&gt; &lt;br /&gt;
  
  To get some insights, please make some selections!
  &lt;br /&gt; &lt;br /&gt;
    

    &lt;div class=&quot;form-group row&quot;&gt;
      &lt;div class=&quot;col-xs-2&quot;&gt;
    &lt;!-- Select country --&gt;
        &lt;select id=&quot;calendarCountry&quot;&gt;
          &lt;option value=&quot;Austria&quot;&gt;Austria&lt;/option&gt; 
          &lt;option value=&quot;Belgium&quot;&gt;Belgium&lt;/option&gt; 
          &lt;option value=&quot;Bulgaria&quot;&gt;Bulgaria&lt;/option&gt; 
          &lt;option value=&quot;Croatia&quot;&gt;Croatia&lt;/option&gt; 
          &lt;option value=&quot;Czechia&quot;&gt;Czechia&lt;/option&gt; 
          &lt;option value=&quot;Denmark&quot;&gt;Denmark&lt;/option&gt; 
          &lt;option value=&quot;Estonia&quot;&gt;Estonia&lt;/option&gt; 
          &lt;option value=&quot;Finland&quot;&gt;Finland&lt;/option&gt; 
          &lt;option value=&quot;France&quot; selected=&quot;&quot;&gt;France&lt;/option&gt; 
          &lt;option value=&quot;Germany&quot;&gt;Germany&lt;/option&gt; 
          &lt;option value=&quot;Greece&quot;&gt;Greece&lt;/option&gt; 
          &lt;option value=&quot;Hungary&quot;&gt;Hungary&lt;/option&gt; 
          &lt;option value=&quot;Ireland&quot;&gt;Ireland&lt;/option&gt; 
          &lt;option value=&quot;Italy&quot;&gt;Italy&lt;/option&gt; 
          &lt;option value=&quot;Latvia&quot;&gt;Latvia&lt;/option&gt; 
          &lt;option value=&quot;Lithuania&quot;&gt;Lithuania&lt;/option&gt; 
          &lt;option value=&quot;Luxembourg&quot;&gt;Luxembourg&lt;/option&gt; 
          &lt;option value=&quot;Malta&quot;&gt;Malta&lt;/option&gt; 
          &lt;option value=&quot;Netherlands&quot;&gt;Netherlands&lt;/option&gt; 
          &lt;option value=&quot;Norway&quot;&gt;Norway&lt;/option&gt; 
          &lt;option value=&quot;Poland&quot;&gt;Poland&lt;/option&gt; 
          &lt;option value=&quot;Portugal&quot;&gt;Portugal&lt;/option&gt; 
          &lt;option value=&quot;Romania&quot;&gt;Romania&lt;/option&gt; 
          &lt;option value=&quot;Slovakia&quot;&gt;Slovakia&lt;/option&gt; 
          &lt;option value=&quot;Slovenia&quot;&gt;Slovenia&lt;/option&gt; 
          &lt;option value=&quot;Spain&quot;&gt;Spain&lt;/option&gt; 
          &lt;option value=&quot;Sweden&quot;&gt;Sweden&lt;/option&gt; 
          &lt;option value=&quot;Switzerland&quot;&gt;Switzerland&lt;/option&gt; 
          &lt;option value=&quot;United Kingdom&quot;&gt;United Kingdom&lt;/option&gt; 
        &lt;/select&gt;

    &lt;!-- Select Indicator --&gt;
    &lt;select id=&quot;ddlViewBy&quot;&gt;
      &lt;option value=&quot;retail and recreation&quot;&gt;retail and recreation&lt;/option&gt;
      &lt;option value=&quot;grocery and pharmacy&quot;&gt;grocery and pharmacy&lt;/option&gt;
      &lt;option value=&quot;parks&quot;&gt;parks&lt;/option&gt;
      &lt;option value=&quot;transit stations&quot;&gt;transit stations&lt;/option&gt;
      &lt;option value=&quot;workplaces&quot; selected=&quot;&quot;&gt;workplaces&lt;/option&gt;
      &lt;option value=&quot;residential&quot;&gt;residential&lt;/option&gt;
      &lt;option value=&quot;driving&quot;&gt;driving&lt;/option&gt;
      &lt;option value=&quot;walking&quot;&gt;walking&lt;/option&gt;
    &lt;/select&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    
    &lt;!-- Create Division for Calendar Heatmap --&gt;
    
    &lt;div id=&quot;calendar&quot; style=&quot;width: 110%; height: 220px; font-size:12px;&quot;&gt;&lt;/div&gt;
    
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/d3/4.13.0/d3.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://d3js.org/d3-scale-chromatic.v1.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;../../../assets/js/d3.calendar.js&quot;&gt;&lt;/script&gt;
    &lt;script&gt;
    
            
            // call to update LineCalendar on change
            d3.select(&quot;#calendarCountry&quot;).on(&quot;change&quot;, function(d){
              selectedCountry = String(this.value);
              d3.select('#exports').selectAll(&quot;*&quot;).remove();
              d3.select('#calendar .chart').remove();
              updateLineCalendar(selectedCountry)
              updateChart(selectedGroup, selectedCountry)
            })

            
            // call to update Calendar Heatmap on change
            d3.select(&quot;#ddlViewBy&quot;).on(&quot;change&quot;, function(d){
              selectedGroup = String(this.value);
              d3.select(&quot;#calendar&quot;).selectAll(&quot;*&quot;).remove();
              updateChart(selectedGroup, selectedCountry)
            });

// Initiate selectedGroup, selectedCountry, calendar heatmap
    var selectedCountry = &quot;France&quot;;
    var selectedGroup = &quot;workplaces&quot;;
    updateChart(selectedGroup, selectedCountry);                       
                       
                         

        function updateChart(selectedGroup, selectedCountry){
          
          // Data Source: Google Mobility, report on Github
          // https://github.com/ActiveConclusion/COVID19_mobility/blob/master/summary_reports/summary_report_countries.csv
        
          //d3.csv(&quot;https://raw.githubusercontent.com/ActiveConclusion/COVID19_mobility/master/summary_reports/summary_report_countries.csv&quot;, 
          d3.csv(&quot;../../../assets/mobility-data.csv&quot;,
          function(error, data) {
            if (error) throw error;
            
            d3.timeFormatDefaultLocale({
                &quot;decimal&quot;: &quot;.&quot;,
                &quot;thousands&quot;: &quot;,&quot;,
                &quot;grouping&quot;: [3],
                &quot;currency&quot;: [&quot;$&quot;, &quot;&quot;],
                &quot;dateTime&quot;: &quot;%a %b %e %X %Y&quot;,
                &quot;date&quot;: &quot;%m/%d/%Y&quot;,
                &quot;time&quot;: &quot;%H:%M:%S&quot;,
                &quot;periods&quot;: [&quot;AM&quot;, &quot;PM&quot;],
                &quot;days&quot;: [&quot;Sunday&quot;, &quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;],
                &quot;shortDays&quot;: [&quot;Su&quot;, &quot;Mo&quot;, &quot;Tu&quot;, &quot;We&quot;, &quot;Th&quot;, &quot;Fr&quot;, &quot;Sa&quot;],
                &quot;months&quot;: [&quot;Enero&quot;, &quot;Febrero&quot;, &quot;Marzo&quot;, &quot;Abril&quot;, &quot;Mayo&quot;, &quot;Junio&quot;, &quot;Julio&quot;, &quot;Agosto&quot;, &quot;Septiembre&quot;, &quot;Octubre&quot;, &quot;Noviembre&quot;, &quot;Diciembre&quot;],
                &quot;shortMonths&quot;: [&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;Jun&quot;, &quot;Jul&quot;, &quot;Aug&quot;, &quot;Sep&quot;, &quot;Oct&quot;, &quot;Nov&quot;, &quot;Dec&quot;]
            });
            
            var newdata = data.filter(function(d){ return d.country == selectedCountry});

            var chart = new Calendar(d3.select('#calendar'), newdata,{
                'datefield': 'date',
                'key' : selectedGroup,
                'year': 2020,
                'dateformat': '%d-%B-%Y',
                'mondaystart': true,
            });
        
        // Legend
        // Using library from: https://d3-legend.susielu.com/
        
        // Get the min and max of the domain
        var domainmin = d3.min(newdata, function(d){ return +d[selectedGroup]});
        var domainmax = d3.max(newdata, function(d){ return +d[selectedGroup]});
        
        
        // Sequential Scale for Legend
        var sequentialScale = d3.scaleSequential(d3.interpolateRdBu).domain([domainmax, domainmin]);
        
        // Linear scale for legend
        // great source for this: https://www.d3indepth.com/scales/
        
        let linearScale = d3.scaleLinear()
        .domain([domainmin, 0, domainmax])
        .range(['blue', '#ddd', 'red']);
        
        var svg = d3.select(&quot;svg&quot;);
        svg.append(&quot;g&quot;)
        .style(&quot;font-size&quot;, &quot;10px&quot;)
        .attr(&quot;class&quot;, &quot;legendSequential&quot;)
        .attr(&quot;transform&quot;, &quot;translate(20,20)&quot;);
         
        var legendSequential = 
        d3.legendColor().
        shapeWidth(30).cells(10)
        .orient(&quot;horizontal&quot;)
        .scale(linearScale) // replace with &quot;sequentialScale&quot; for sequential scale

        svg.select(&quot;.legendSequential&quot;)
        .call(legendSequential);
  
            });
        };
        
        
    
    &lt;/script&gt;
    
    &lt;!-- Div for Linear Calendar and Key--&gt;
        
    &lt;div class=&quot;wrapper&quot; style=&quot;width: 135%;&quot;&gt;
    
    &lt;!-- Line Calendar --&gt;
       &lt;div id=&quot;exports&quot; class=&quot;item1&quot; style=&quot;width: 100%; height: 220px;&quot;&gt;&lt;/div&gt;
       &lt;div class=&quot;item2&quot; style=&quot;width: 100%; height: 220px;&quot;&gt;
    
    &lt;!-- Reponse Key --&gt;
    &lt;strong&gt;Key&lt;/strong&gt;
    &lt;p style=&quot;font-size:10px; font-family: sans-serif; padding:0; margin:0; line-height:1.75;&quot;&gt;
    1 - Ban on All Events &lt;br /&gt;
    2 - Close Entertainment Venues &lt;br /&gt;
    3 - Mask Mandatory in All Spaces &lt;br /&gt;
    4 - Close Non-Essential Stores &lt;br /&gt;
    5 - Close Resaurants and Cafes &lt;br /&gt;
    6 - Limit Social Circle &lt;br /&gt;
    7 - Stay at Home Order &lt;br /&gt;
    8 - Teleworking &lt;br /&gt;
    9 - Workplace Closures &lt;br /&gt;
&lt;/p&gt;
       &lt;/div&gt;
    &lt;/div&gt;
    
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/d3/4.13.0/d3.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.25.6/d3-legend.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;../../../assets/js/d3.linearcalendar.js&quot;&gt;&lt;/script&gt;
    
    &lt;script&gt;
    // function to update Linear Calendar    
        
    function updateLineCalendar(selectedCountry){

        d3.csv('../../../assets/response-graph.csv', function(data) {
           
          var data = data.filter(function(d){ return d.Country == selectedCountry});
           
           data.forEach(function(d){
                d.inicio = d.inicio.substring(0, d.inicio.length - 5);
                d.fin = d.fin.substring(0, d.fin.length - 5);
            });

            d3.timeFormatDefaultLocale({
                &quot;decimal&quot;: &quot;.&quot;,
                &quot;thousands&quot;: &quot;,&quot;,
                &quot;grouping&quot;: [3],
                &quot;currency&quot;: [&quot;$&quot;, &quot;&quot;],
                &quot;dateTime&quot;: &quot;%a %b %e %X %Y&quot;,
                &quot;date&quot;: &quot;%m/%d/%Y&quot;,
                &quot;time&quot;: &quot;%H:%M:%S&quot;,
                &quot;periods&quot;: [&quot;AM&quot;, &quot;PM&quot;],
                &quot;days&quot;: [&quot;Sunday&quot;, &quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;],
                &quot;shortDays&quot;: [&quot;Sun&quot;, &quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;],
                &quot;months&quot;: [&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;Jun&quot;, &quot;Jul&quot;, &quot;Aug&quot;, &quot;Sep&quot;, &quot;Oct&quot;, &quot;Nov&quot;, &quot;Dec&quot;],
                &quot;shortMonths&quot;: [&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;Jun&quot;, &quot;Jul&quot;, &quot;Aug&quot;, &quot;Sep&quot;, &quot;Oct&quot;, &quot;Nov&quot;, &quot;Dec&quot;]
            });
            
            var grafico = new LinearCalendar(d3.select('#exports'), data, {
                'year': 'anyo',
                'start': 'inicio',
                'end': 'fin',
                'domain': ['01-01', '31-12'],
                'color': 'black',
                'dateformat': '%d-%m',
                'title': 'Covid-19 Response Measures',
                'source': '&lt;a href=&quot;https://www.ecdc.europa.eu/en/publications-data/download-data-response-measures-covid-19&quot;&gt;&lt;/a&gt;',
            })
                        
        })
    }


    // Initiate
    updateLineCalendar(&quot;France&quot;);
    &lt;/script&gt;
    
    &lt;br /&gt;
    &lt;br /&gt;
    &lt;br /&gt;
    &lt;br /&gt;
    &lt;br /&gt;
    &lt;h3&gt;Some Insights&lt;/h3&gt;
    &lt;ul&gt;
    &lt;li&gt; Finland, Estonia, Sweden and Norway had comparatively few Covid Response Measures compared to Belgium, France, Greece and Italy; yet, all countries have relatively similar residential mobility patterns. Sweden, despite its laissez-faire Covid-19 response, shows a strong decrease in mobility in workplaces and transit stations.&lt;/li&gt;
    &lt;li&gt; People walked and drove less during times of Covid restrictions. Time spent in parks increases dramatically in the summer for nearly all countries, likely due to warmer weather. &lt;/li&gt;
    &lt;li&gt; In several countries - notably Belgium, Netherlands and Luxembourg, people spent more time at home on weekdays, even when stay-at-home response measures were temporarily lifted. &lt;/li&gt;
    &lt;/ul&gt;
    &lt;h3&gt;The Data&lt;/h3&gt;
    Since the beginning of the Covid-19 pandemic, Google has provided open-source &lt;a href=&quot;https://www.google.com/covid19/mobility/&quot;&gt;Mobility Reports&lt;/a&gt; to &quot;provide insights into what has changed in response to policies aimed at combating COVID-19.&quot; Starting from February 6, 2020, the data show for each day how visits and length of stay at different places change compared to a baseline. &lt;strong&gt;The baseline is the median value, for the corresponding day of the week, during the 5-week period Jan 3â€“Feb 6, 2020.&lt;/strong&gt; The data can also be downloaded directly from the &lt;a href=&quot;https://raw.githubusercontent.com/ActiveConclusion/COVID19_mobility/master/summary_reports/summary_report_countries.csv&quot;&gt; Github repository &lt;/a&gt; of Our World in Data.&lt;br /&gt;
    &lt;br /&gt;
    Data on Covid-19 response measures comes from the European Center for Disease Control and can be found &lt;a href=&quot;https://www.ecdc.europa.eu/en/publications-data/download-data-response-measures-covid-19&quot;&gt; here&lt;/a&gt;, along with a Data Dictionary that explains the specifics of non-pharmaceutical response measures. The data is updated frequently - this visualization uses the June 10, 2021 version.	
    
    &lt;br /&gt;&lt;br /&gt;
    
    &lt;h3&gt;Please Note: Interpreting the Data&lt;/h3&gt;
    Google's Mobility data is relative to a baseline. Therefore, it's not adjusted for seasonal fluctuations that naturally occur (for instance, people spend more time in parks when the weather is warmer, pandemic or not). The Covid-19 response measures included in the linear calendar are only a select few of the response measures taken. Therefore, they do not accurately represent all nations' responses; some nations relied more heavily on partial measures and/or regional measures. 
    
    &lt;br /&gt;&lt;br /&gt;
    
    Thanks for reading!
    &lt;/body&gt;


&lt;/html&gt;</content><author><name>Nura Kawa</name></author><summary type="html">It goes without saying that 2020 has been characteristically marked by the Covid-19 pandemic. One of the primary tools that policy makers across the world have chosen to curb the spread of Covid-19 is to impose restriction on mobility. For those of us in Europe, we can take a calendar view of how our time spent at home, at work, and outdoors has changed as a result of national policies. The calendar heatmap shows, for a selected nation and mobility category, the daily percent change in mobility compared to a baseline value (more information in the &quot;Data&quot; section). The linear calendar shows the start and end dates of the selected nation's Covid-19 response measures. To get some insights, please make some selections!</summary></entry></feed>